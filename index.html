<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>The Psychic Game</title>
</head>
<body>

<h1>The Psychic Game</h1>

<p>Guess the letter I'm thinking of (please only type letters)</p>

<p># Guesses Left:</p>
<p class="guessLeft"></p>

<p>Wins:</p>
<p class="win"></p>

<p>Losses:</p>
<p class="losses"></p>

<p>Guesses:</p>
<p class="guessLog"></p>

<script type="text/javascript">


    
    var userguesses = [];
    var wins = 0;
    var loss = 0;
    var guessesleft = 9;
    
    var appguess = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
    var ranIndex = Math.floor(Math.random() * appguess.length);
    var appChoice = (appguess[ranIndex]);
    console.log(appChoice);

	updateGLOnPage();
    updateLOnPage();
    updateWOnPage();


    document.onkeyup = function(event){

    var userGuess = event.key;
    document.querySelector('p.guessLog').innerText += userGuess;
    }

	function updateGLOnPage(){
		var el = document.querySelector('p.guessLeft');
		el.innerText = guessesleft;
    }

    function updateLOnPage(){
        var l = document.querySelector('p.losses');
        l.innerText = loss;
    }
    function updateWOnPage(){
        var w = document.querySelector('p.win');
        w.innerText = wins;
    }

	function updateGL(){
		if (guessesleft == 0){
			guessesleft=0;
			updateGLOnPage();
		}else{
			guessesleft = guessesleft - 1;
			updateGLOnPage();
        }
  
  
    }
    function updateL(){
        if (guessleft == 0){
            loss++;
        updateLOnPage();
         }
    }
    //increase win count
    if (userguesses.includes(appChoice)) {
        document.querySelector('p.win').innerHTML = wins++;
        updateWOnPage();
    }
  

    //reset for loss
    if (guessesleft <=0){
        guessesleft = 9;
        userguesses = [];
        document.querySelector('p.guessLog').innerHTML = userguesses;
        document.querySelector('p.guessesleft').innerHTML = 9;
    }

    //reset for win
    if (userguesses == appChoice){
        guessesleft = 9;
        userguesses = [];
        document.querySelector('p.guessLog').innerHTML = userguesses;
        document.querySelector('p.guessesleft').innerHTML = 9;
    }

    document.onkeypress = updateGL, updateL;

</script>

</body>
</html>